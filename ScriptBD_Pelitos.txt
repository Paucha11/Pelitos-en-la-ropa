
CREATE TABLE IF NOT EXISTS PR_accesorios.Cliente (
  idCliente INT NOT NULL,
  Nombre VARCHAR(45) NOT NULL,
  Correo VARCHAR(45) NOT NULL,
  Teléfono VARCHAR(45) NOT NULL,
  PRIMARY KEY (idCliente))

CREATE TABLE IF NOT EXISTS PR_accesorios.proveedor (
  idproveedor INT NOT NULL,
  Nombre VARCHAR(45) NOT NULL,
  Teléfono VARCHAR(45) NOT NULL,
  Dirección VARCHAR(45) NOT NULL,
  Producto VARCHAR(45) NOT NULL,
  Correo VARCHAR(45) NOT NULL,
  PRIMARY KEY (idproveedor))

CREATE TABLE IF NOT EXISTS PR_accesorios.Vendedor (
  id_administrador INT NOT NULL,
  nombre_completo VARCHAR(45) NOT NULL,
  telefono VARCHAR(45) NOT NULL,
  direccion VARCHAR(45) NOT NULL,
  correo_electronico VARCHAR(45) NOT NULL,
  PRIMARY KEY (id_administrador))

CREATE TABLE IF NOT EXISTS PR_accesorios.Venta (
  idProducto INT NOT NULL,
  precio DOUBLE NOT NULL,
  cantidad INT NOT NULL,
  tipo_mascota VARCHAR(45) NOT NULL,
  metodo_pago VARCHAR(45) NOT NULL,
  administrador INT NOT NULL,
  cliente INT NOT NULL,
  PRIMARY KEY (idProducto),
  
  INDEX venta_cliente_idx (cliente ASC) VISIBLE,
  INDEX venta_admin_idx (administrador` ASC) VISIBLE,
  
  CONSTRAINT venta_cliente
    FOREIGN KEY (cliente)
    REFERENCES PR_accesorios.Cliente (idCliente)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
	
  CONSTRAINT venta_admin
    FOREIGN KEY (administrador)
    REFERENCES PR_accesorios.Vendedor (id_administrador)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)

CREATE TABLE IF NOT EXISTS PR_accesorios.Producto (
  idProducto INT NOT NULL,
  nombre VARCHAR(45) NOT NULL,
  descripción VARCHAR(45) NOT NULL,
  precio_compra DOUBLE NOT NULL,
  precio_venta DOUBLE NOT NULL,
  cantidad INT NOT NULL,
  PRIMARY KEY (`idProducto`))
  
CREATE TABLE IF NOT EXISTS PR_accesorios.Producto_has_Venta (
  Producto_idProducto INT NOT NULL,
  Venta_idProducto INT NOT NULL,
  PRIMARY KEY (Producto_idProducto, Venta_idProducto),
  
  INDEX fk_Producto_has_Venta_Venta1_idx (Venta_idProducto ASC) VISIBLE,
  INDEX fk_Producto_has_Venta_Producto1_idx (Producto_idProducto ASC) VISIBLE,
  CONSTRAINT fk_Producto_has_Venta_Producto1
    FOREIGN KEY (Producto_idProducto)
    REFERENCES PR_accesorios.Producto (idProducto)
    
  CONSTRAINT fk_Producto_has_Venta_Venta1
    FOREIGN KEY (Venta_idProducto)
    REFERENCES PR_accesorios.Venta (idProducto)
    
CREATE TABLE IF NOT EXISTS PR_accesorios.compra (
  proveedor_idproveedor INT NOT NULL,
  Producto_idProducto INT NOT NULL,
  detalles VARCHAR(45) NOT NULL,
  valor_uniario DOUBLE NOT NULL,
  cantidad INT NOT NULL,
  
  PRIMARY KEY (proveedor_idproveedor, Producto_idProducto),
  INDEX fk_proveedor_has_Producto_Producto1_idx (Producto_idProducto ASC) VISIBLE,
  INDEX fk_proveedor_has_Producto_proveedor1_idx (proveedor_idproveedor ASC) VISIBLE,
  CONSTRAINT fk_proveedor_has_Producto_proveedor1
    FOREIGN KEY (proveedor_idproveedor)
    REFERENCES PR_accesorios.proveedor (idproveedor),
    
  CONSTRAINT fk_proveedor_has_Producto_Producto1
    FOREIGN KEY (Producto_idProducto)
    REFERENCES PR_accesorios.Producto (idProducto)
